// <auto-generated />
using System;
using Docker.Benchmarking.Orchestrator.Infrastrcture.Data;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Npgsql.EntityFrameworkCore.PostgreSQL.Metadata;

namespace Docker.Benchmarking.Orchestrator.Infrastrcture.Migrations
{
    [DbContext(typeof(AppDbContext))]
    [Migration("20180812145120_Active to BaseEntity")]
    partial class ActivetoBaseEntity
    {
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("Npgsql:ValueGenerationStrategy", NpgsqlValueGenerationStrategy.SerialColumn)
                .HasAnnotation("ProductVersion", "2.1.1-rtm-30846")
                .HasAnnotation("Relational:MaxIdentifierLength", 63);

            modelBuilder.Entity("Docker.Benchmarking.Orchestrator.Core.Entities.ApacheJmeterTestFile", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("Active");

                    b.Property<Guid?>("ApplicationId");

                    b.Property<Guid?>("ApplicationTestId");

                    b.Property<DateTimeOffset>("DateTimeCreated");

                    b.Property<string>("Description");

                    b.Property<string>("FileName")
                        .IsRequired();

                    b.Property<string>("Name")
                        .IsRequired();

                    b.HasKey("Id");

                    b.HasIndex("ApplicationId")
                        .IsUnique();

                    b.HasIndex("ApplicationTestId")
                        .IsUnique();

                    b.ToTable("ApacheJmeterTestFiles");
                });

            modelBuilder.Entity("Docker.Benchmarking.Orchestrator.Core.Entities.Application", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("Active");

                    b.Property<Guid?>("ApacheJmeterTestId");

                    b.Property<Guid?>("ApplicationImageId");

                    b.Property<int>("ApplicationType");

                    b.Property<Guid?>("BenchmarkingImageId");

                    b.Property<DateTimeOffset>("DateTimeCreated");

                    b.Property<int>("DelayToStartApplication");

                    b.Property<string>("Description");

                    b.Property<string>("Name")
                        .IsRequired();

                    b.HasKey("Id");

                    b.HasIndex("ApplicationImageId");

                    b.HasIndex("BenchmarkingImageId");

                    b.ToTable("Application");
                });

            modelBuilder.Entity("Docker.Benchmarking.Orchestrator.Core.Entities.ApplicationTest", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("Active");

                    b.Property<Guid?>("ApacheJmeterTestId");

                    b.Property<string>("AppContainerId");

                    b.Property<Guid>("ApplicationHostId");

                    b.Property<Guid>("ApplicationId");

                    b.Property<string>("BenchmarkContainerId");

                    b.Property<Guid>("BenchmarkHostId");

                    b.Property<int>("BenchmarkTimeLength");

                    b.Property<bool>("CaptureContainerMetrics");

                    b.Property<string>("Comments");

                    b.Property<bool>("Completed");

                    b.Property<DateTimeOffset>("CompletedAt");

                    b.Property<int>("ConcurrentUsers");

                    b.Property<DateTimeOffset>("DateTimeCreated");

                    b.Property<string>("Description");

                    b.Property<string>("EnvironmentVariables");

                    b.Property<string>("HangfireContainerMetricsJobId");

                    b.Property<string>("Name")
                        .IsRequired();

                    b.Property<string>("ResultsCsv")
                        .HasColumnType("Text");

                    b.Property<bool>("SetAsBaseLine");

                    b.Property<bool>("Started");

                    b.Property<DateTimeOffset>("StartedAt");

                    b.Property<bool>("StopAppContainerAfterExperiment");

                    b.Property<string>("TestPlanVariableOverrides");

                    b.Property<int>("TypeOfTest");

                    b.HasKey("Id");

                    b.HasIndex("ApplicationHostId");

                    b.HasIndex("ApplicationId");

                    b.HasIndex("BenchmarkHostId");

                    b.ToTable("ApplicationTests");
                });

            modelBuilder.Entity("Docker.Benchmarking.Orchestrator.Core.Entities.AzureHost", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("Active");

                    b.Property<string>("AzureRegion")
                        .IsRequired();

                    b.Property<string>("ClientId")
                        .IsRequired();

                    b.Property<DateTimeOffset>("DateTimeCreated");

                    b.Property<bool>("DestroyResourcesAfterBenchmark");

                    b.Property<Guid?>("DockerHostId");

                    b.Property<string>("IPAddress");

                    b.Property<string>("Password")
                        .IsRequired();

                    b.Property<decimal>("PricePerHour");

                    b.Property<DateTimeOffset>("ResourceCreatedAt");

                    b.Property<DateTimeOffset>("ResourceDestroyedAt");

                    b.Property<string>("ResourceName")
                        .IsRequired();

                    b.Property<string>("Secret")
                        .IsRequired();

                    b.Property<string>("Subscription")
                        .IsRequired();

                    b.Property<string>("TenantId")
                        .IsRequired();

                    b.Property<string>("UserName")
                        .IsRequired();

                    b.Property<string>("VMSize")
                        .IsRequired();

                    b.HasKey("Id");

                    b.HasIndex("DockerHostId")
                        .IsUnique();

                    b.ToTable("AzureHosts");
                });

            modelBuilder.Entity("Docker.Benchmarking.Orchestrator.Core.Entities.BenchmarkTestItem", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("Active");

                    b.Property<double>("AllThreads");

                    b.Property<Guid?>("ApplicationTestId");

                    b.Property<double>("Bytes");

                    b.Property<double>("Connect");

                    b.Property<string>("DataType");

                    b.Property<DateTimeOffset>("DateTimeCreated");

                    b.Property<double>("Elapsed");

                    b.Property<string>("FailureMessage");

                    b.Property<double>("GroupThreads");

                    b.Property<double>("IdleTime");

                    b.Property<string>("Label")
                        .IsRequired();

                    b.Property<double>("Latency");

                    b.Property<int?>("ResponseCode");

                    b.Property<string>("ResponseMessage")
                        .IsRequired();

                    b.Property<double>("SentBytes");

                    b.Property<bool>("Success");

                    b.Property<string>("ThreadName")
                        .IsRequired();

                    b.Property<DateTimeOffset>("Timestamp");

                    b.HasKey("Id");

                    b.HasIndex("ApplicationTestId");

                    b.ToTable("BenchmarkTestItems");
                });

            modelBuilder.Entity("Docker.Benchmarking.Orchestrator.Core.Entities.ContainerMetric", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("Active");

                    b.Property<Guid>("ApplicationTestId");

                    b.Property<double>("BlockInput");

                    b.Property<double>("BlockOutput");

                    b.Property<double>("CPUPercentage");

                    b.Property<string>("ContainerId")
                        .IsRequired();

                    b.Property<string>("ContainerName")
                        .IsRequired();

                    b.Property<DateTimeOffset>("DateTimeCreated");

                    b.Property<DateTime>("DockerDateTimestamp");

                    b.Property<double>("MemoryLimit");

                    b.Property<double>("MemoryUsage");

                    b.Property<double>("NetworkInput");

                    b.Property<double>("NetworkOutput");

                    b.HasKey("Id");

                    b.HasIndex("ApplicationTestId");

                    b.ToTable("ContainerMetrics");
                });

            modelBuilder.Entity("Docker.Benchmarking.Orchestrator.Core.Entities.DockerHost", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("Active");

                    b.Property<Guid?>("AzureHostId");

                    b.Property<int>("CloudProvider");

                    b.Property<DateTimeOffset>("DateTimeCreated");

                    b.Property<string>("Description");

                    b.Property<string>("HostName")
                        .IsRequired();

                    b.Property<string>("Location")
                        .IsRequired();

                    b.Property<double>("Memory");

                    b.Property<string>("Name")
                        .IsRequired();

                    b.Property<string>("Password");

                    b.Property<string>("PortName")
                        .IsRequired();

                    b.Property<double>("Storage");

                    b.Property<bool>("UseHttpAuthentication");

                    b.Property<bool>("UseTlsAuthentication");

                    b.Property<string>("UserName");

                    b.Property<double>("vCPU");

                    b.HasKey("Id");

                    b.ToTable("DockerHosts");
                });

            modelBuilder.Entity("Docker.Benchmarking.Orchestrator.Core.Entities.DockerImage", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd();

                    b.Property<bool>("Active");

                    b.Property<DateTimeOffset>("DateTimeCreated");

                    b.Property<string>("Description");

                    b.Property<int?>("ExternalPort");

                    b.Property<string>("ImageName")
                        .IsRequired();

                    b.Property<string>("ImageTag")
                        .IsRequired();

                    b.Property<int>("ImageType");

                    b.Property<int?>("InternalPort");

                    b.Property<string>("Name")
                        .IsRequired();

                    b.Property<bool>("PrivateRepository");

                    b.Property<string>("PrivateRepositoryHost");

                    b.Property<string>("PrivateRepositoryPassword");

                    b.Property<string>("PrivateRepositoryUsername");

                    b.HasKey("Id");

                    b.ToTable("DockerImage");
                });

            modelBuilder.Entity("Docker.Benchmarking.Orchestrator.Core.Entities.ApacheJmeterTestFile", b =>
                {
                    b.HasOne("Docker.Benchmarking.Orchestrator.Core.Entities.Application", "Application")
                        .WithOne("TestFile")
                        .HasForeignKey("Docker.Benchmarking.Orchestrator.Core.Entities.ApacheJmeterTestFile", "ApplicationId");

                    b.HasOne("Docker.Benchmarking.Orchestrator.Core.Entities.ApplicationTest", "ApplicationTest")
                        .WithOne("TestFile")
                        .HasForeignKey("Docker.Benchmarking.Orchestrator.Core.Entities.ApacheJmeterTestFile", "ApplicationTestId");
                });

            modelBuilder.Entity("Docker.Benchmarking.Orchestrator.Core.Entities.Application", b =>
                {
                    b.HasOne("Docker.Benchmarking.Orchestrator.Core.Entities.DockerImage", "ApplicationImage")
                        .WithMany()
                        .HasForeignKey("ApplicationImageId");

                    b.HasOne("Docker.Benchmarking.Orchestrator.Core.Entities.DockerImage", "BenchmarkingImage")
                        .WithMany()
                        .HasForeignKey("BenchmarkingImageId");
                });

            modelBuilder.Entity("Docker.Benchmarking.Orchestrator.Core.Entities.ApplicationTest", b =>
                {
                    b.HasOne("Docker.Benchmarking.Orchestrator.Core.Entities.DockerHost", "Host")
                        .WithMany("ApplicationTests")
                        .HasForeignKey("ApplicationHostId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Docker.Benchmarking.Orchestrator.Core.Entities.Application", "Application")
                        .WithMany("ApplicationTests")
                        .HasForeignKey("ApplicationId")
                        .OnDelete(DeleteBehavior.Cascade);

                    b.HasOne("Docker.Benchmarking.Orchestrator.Core.Entities.DockerHost", "BenchmarkHost")
                        .WithMany("BenchmarkTests")
                        .HasForeignKey("BenchmarkHostId")
                        .OnDelete(DeleteBehavior.Cascade);
                });

            modelBuilder.Entity("Docker.Benchmarking.Orchestrator.Core.Entities.AzureHost", b =>
                {
                    b.HasOne("Docker.Benchmarking.Orchestrator.Core.Entities.DockerHost", "DockerHost")
                        .WithOne("AzureHost")
                        .HasForeignKey("Docker.Benchmarking.Orchestrator.Core.Entities.AzureHost", "DockerHostId");
                });

            modelBuilder.Entity("Docker.Benchmarking.Orchestrator.Core.Entities.BenchmarkTestItem", b =>
                {
                    b.HasOne("Docker.Benchmarking.Orchestrator.Core.Entities.ApplicationTest", "ApplicationTest")
                        .WithMany("TestResults")
                        .HasForeignKey("ApplicationTestId");
                });

            modelBuilder.Entity("Docker.Benchmarking.Orchestrator.Core.Entities.ContainerMetric", b =>
                {
                    b.HasOne("Docker.Benchmarking.Orchestrator.Core.Entities.ApplicationTest", "ApplicationTest")
                        .WithMany("ContainerMetrics")
                        .HasForeignKey("ApplicationTestId")
                        .OnDelete(DeleteBehavior.Cascade);
                });
#pragma warning restore 612, 618
        }
    }
}
